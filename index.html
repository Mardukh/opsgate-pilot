<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPSGATE: WordPress Agency Operating System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #0a2463;
            --primary-blue: #1e3a8a;
            --accent-green: #10b981;
            --accent-red: #ef4444;
            --accent-amber: #f59e0b;
            --gray-dark: #374151;
            --gray-medium: #6b7280;
            --gray-light: #f3f4f6;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: #f9fafb;
            color: var(--gray-dark);
            line-height: 1.6;
            padding-bottom: 40px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .document-header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-blue) 100%);
            color: white;
            padding: 40px 0;
            margin-bottom: 30px;
            border-bottom: 5px solid var(--accent-green);
        }

        .document-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .document-header .subtitle {
            font-size: 1.15rem;
            opacity: 0.9;
            margin-bottom: 18px;
        }

        .meta-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 16px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            min-width: 160px;
        }

        .meta-label {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 4px;
        }

        .meta-value {
            font-weight: 600;
        }

        .status-badge {
            display: inline-block;
            background-color: var(--accent-green);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 10px;
            vertical-align: middle;
        }

        /* Top Nav */
        .top-nav {
            position: sticky;
            top: 0;
            z-index: 50;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .top-nav .container {
            display: flex;
            gap: 10px;
            align-items: center;
            padding: 12px 20px;
            overflow-x: auto;
        }

        .top-nav a {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            white-space: nowrap;
            padding: 8px 10px;
            border-radius: 999px;
            background: #eff6ff;
            border: 1px solid #dbeafe;
        }

        .top-nav a:hover {
            background: #dbeafe;
        }

        /* Sections */
        section {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
        }

        section h2 {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 22px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--gray-light);
            position: relative;
        }

        section h2:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 2px;
            background-color: var(--accent-green);
        }

        section h3 {
            color: var(--primary-blue);
            font-size: 1.35rem;
            margin: 22px 0 12px;
        }

        section h4 {
            color: var(--gray-dark);
            font-size: 1.1rem;
            margin: 18px 0 10px;
        }

        .subtle {
            color: var(--gray-medium);
            font-size: 0.95rem;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 18px 0;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        th {
            background-color: var(--primary-dark);
            color: white;
            text-align: left;
            padding: 14px 16px;
            font-weight: 700;
            font-size: 0.95rem;
        }

        td {
            padding: 14px 16px;
            border-bottom: 1px solid var(--gray-light);
            vertical-align: top;
            font-size: 0.95rem;
        }

        tr:nth-child(even) {
            background-color: #f9fafb;
        }

        tr:hover {
            background-color: #f0f7ff;
        }

        /* Cards / grids */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 22px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
        }

        .card {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            padding: 18px;
        }

        .card strong {
            color: var(--gray-dark);
        }

        .pill {
            display: inline-block;
            padding: 6px 10px;
            border-radius: 999px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            font-weight: 700;
            font-size: 0.85rem;
            color: var(--gray-dark);
        }

        .pill.green { background: #ecfdf5; border-color: #a7f3d0; color: #065f46; }
        .pill.blue { background: #eff6ff; border-color: #bfdbfe; color: #1e3a8a; }
        .pill.amber { background: #fffbeb; border-color: #fcd34d; color: #92400e; }
        .pill.red { background: #fef2f2; border-color: #fecaca; color: #991b1b; }

        /* Tiers */
        .tiers-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 22px;
            margin-top: 10px;
        }

        .tier-card {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
            border: 1px solid #e5e7eb;
            background: white;
        }

        .tier-card:hover { transform: translateY(-4px); }

        .tier-header {
            padding: 22px;
            color: white;
            text-align: center;
        }

        .tier-free .tier-header { background-color: var(--gray-medium); }
        .tier-starter .tier-header { background-color: var(--primary-blue); }
        .tier-pro .tier-header { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
        .tier-agency .tier-header { background: linear-gradient(135deg, #0e7490 0%, #0891b2 100%); }

        .tier-name { font-size: 1.5rem; font-weight: 800; margin-bottom: 8px; }
        .tier-price { font-size: 2.1rem; font-weight: 900; }
        .tier-period { font-size: 1rem; opacity: 0.9; }

        .tier-body { padding: 22px; }

        .tier-feature {
            margin-bottom: 10px;
            padding-left: 10px;
            border-left: 3px solid var(--gray-light);
            font-size: 0.95rem;
        }

        .tier-feature.highlight { border-left-color: var(--accent-green); font-weight: 700; }

        /* Lists */
        ul, ol {
            padding-left: 22px;
            margin-bottom: 14px;
        }

        li { margin-bottom: 8px; }

        .check-list { list-style: none; padding-left: 0; }
        .check-list li { margin-bottom: 10px; }
        .check-list li:before { content: '✓'; color: var(--accent-green); font-weight: 900; margin-right: 10px; }

        .x-list { list-style: none; padding-left: 0; }
        .x-list li { margin-bottom: 10px; }
        .x-list li:before { content: '✗'; color: var(--accent-red); font-weight: 900; margin-right: 10px; }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 22px 0;
        }

        .timeline:before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background-color: var(--primary-blue);
        }

        .phase {
            position: relative;
            margin-bottom: 26px;
        }

        .phase:before {
            content: '';
            position: absolute;
            left: -36px;
            top: 5px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: var(--accent-green);
            border: 3px solid white;
            box-shadow: 0 0 0 3px var(--primary-blue);
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .phase-title { font-size: 1.2rem; font-weight: 900; color: var(--primary-dark); }
        .phase-duration { background-color: var(--gray-light); padding: 5px 12px; border-radius: 20px; font-weight: 800; font-size: 0.9rem; }

        /* Code blocks */
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 18px;
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            font-size: 0.93rem;
            margin: 14px 0;
            overflow-x: auto;
            white-space: pre;
        }

        .code-comment { color: #94a3b8; }

        /* Toggle demo */
        .toggle-example {
            background-color: #f8fafc;
            border-radius: var(--border-radius);
            padding: 18px;
            margin: 16px 0;
            border: 1px solid #e2e8f0;
        }

        .toggle-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px;
            background-color: white;
            border-radius: var(--border-radius);
            margin-bottom: 12px;
            border: 1px solid #e5e7eb;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input { opacity: 0; width: 0; height: 0; }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #d1d5db;
            transition: .4s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px; width: 22px;
            left: 4px; bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider { background-color: var(--accent-green); }
        input:checked + .toggle-slider:before { transform: translateX(30px); }

        /* Highlight boxes */
        .callout {
            padding: 16px;
            border-radius: var(--border-radius);
            margin: 16px 0;
            border-left: 5px solid var(--primary-blue);
            background: #f0f9ff;
        }

        .callout strong { color: var(--primary-dark); }

        .callout.amber { background: #fffbeb; border-left-color: var(--accent-amber); }
        .callout.green { background: #f0fdf4; border-left-color: var(--accent-green); }
        .callout.red { background: #fef2f2; border-left-color: var(--accent-red); }

        /* Footer */
        .document-footer {
            text-align: center;
            margin-top: 36px;
            padding-top: 26px;
            border-top: 1px solid var(--gray-light);
            color: var(--gray-medium);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .grid-2 { grid-template-columns: 1fr; }
            .grid-3 { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .document-header h1 { font-size: 2rem; }
            section { padding: 20px; }
            .tiers-container { grid-template-columns: 1fr; }
            .meta-info { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>

    <header class="document-header">
        <div class="container">
            <h1>OPSGATE: WORDPRESS AGENCY OPERATING SYSTEM</h1>
            <div class="subtitle">Consolidate WordPress agency tool chaos into one toggleable operating system</div>
            <div class="meta-info">
                <div class="meta-item">
                    <span class="meta-label">VERSION</span>
                    <span class="meta-value">6.1 • <span class="status-badge">EXECUTION-READY PLAN</span></span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">AUDIENCE</span>
                    <span class="meta-value">WordPress Agencies</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">TIMEFRAME</span>
                    <span class="meta-value">6 Months</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">STACK</span>
                    <span class="meta-value">Single VPS • Docker • Caddy • PostgreSQL • FastAPI • n8n • WP Plugin • Web Dashboard</span>
                </div>
            </div>
        </div>
    </header>

    <nav class="top-nav">
        <div class="container">
            <a href="#what-is-opsgate"><i class="fa-solid fa-compass"></i> What It Is</a>
            <a href="#authority-law"><i class="fa-solid fa-gavel"></i> Authority Law</a>
            <a href="#business-model"><i class="fa-solid fa-tags"></i> Business Model</a>
            <a href="#journeys"><i class="fa-solid fa-route"></i> Journeys</a>
            <a href="#branding"><i class="fa-solid fa-palette"></i> Branding & Funnels</a>
            <a href="#prioritization"><i class="fa-solid fa-list-check"></i> Prioritization</a>
            <a href="#functional-spec"><i class="fa-solid fa-gear"></i> Functional Spec</a>
            <a href="#test-cases"><i class="fa-solid fa-vial"></i> Test Cases</a>
            <a href="#tech-wireframes"><i class="fa-solid fa-code"></i> Technical Wireframes</a>
            <a href="#scrum-plan"><i class="fa-solid fa-calendar-check"></i> 6-Month Scrum</a>
            <a href="#metrics"><i class="fa-solid fa-chart-line"></i> Metrics</a>
            <a href="#execution"><i class="fa-solid fa-terminal"></i> Execution</a>
        </div>
    </nav>

    <main class="container">

        <!-- 1. What OpsGate is -->
        <section id="what-is-opsgate">
            <h2>1. WHAT OPSGATE IS & IS NOT</h2>

            <div class="grid-2" style="margin-bottom: 10px;">
                <div>
                    <h3>OpsGate IS NOT:</h3>
                    <ul class="x-list">
                        <li><strong>Hosting</strong> — We don’t serve web pages or provide server infrastructure</li>
                        <li><strong>Task Assistant / Secretary</strong> — We don’t “help,” suggest, or decide</li>
                        <li><strong>Generic Automation Tool</strong> — We don’t automate random business processes</li>
                        <li><strong>Cost-Saving Pitch First</strong> — Savings are a byproduct, not the primary promise</li>
                    </ul>
                </div>
                <div>
                    <h3>OpsGate IS:</h3>
                    <ul class="check-list">
                        <li><strong>WordPress Agency Operating System</strong> — The control plane for agency operations</li>
                        <li><strong>Consolidation Layer</strong> — Replaces fragmented tools with one system</li>
                        <li><strong>Control-First Platform</strong> — Nothing runs without explicit permission</li>
                        <li><strong>Toggle-Based Automation</strong> — Optional, scoped, auditable</li>
                        <li><strong>Evidence-First System</strong> — Every action leaves immutable proof</li>
                        <li><strong>AI for Explanation Only</strong> — Summarization/reporting/explanation; never execution</li>
                    </ul>
                </div>
            </div>

            <h3>Consolidation Layer Coverage</h3>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Fragmented Reality</th>
                        <th>OpsGate Consolidation Outcome</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Security</strong></td>
                        <td>Wordfence, Sucuri, iThemes Security</td>
                        <td>Unified monitoring + toggleable response + evidence ledger</td>
                    </tr>
                    <tr>
                        <td><strong>Management</strong></td>
                        <td>ManageWP, MainWP, InfiniteWP</td>
                        <td>Single control plane + scope-based controls across sites</td>
                    </tr>
                    <tr>
                        <td><strong>Backups</strong></td>
                        <td>UpdraftPlus, BackupBuddy, BlogVault</td>
                        <td>Backup monitoring + verification + evidence packages</td>
                    </tr>
                    <tr>
                        <td><strong>Compliance</strong></td>
                        <td>Spreadsheets/checklists/manual audits</td>
                        <td>Automated evidence packages + immutable receipts</td>
                    </tr>
                    <tr>
                        <td><strong>Operational workflows</strong></td>
                        <td>Email chains, notes, tribal knowledge</td>
                        <td>Auditable run history + dashboard-first evidence</td>
                    </tr>
                </tbody>
            </table>

            <h3>Competitive Landscape</h3>
            <table>
                <thead>
                    <tr>
                        <th>Competitor</th>
                        <th>What They Do</th>
                        <th>Where OpsGate Consolidates</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Wordfence</strong></td>
                        <td>Security scanning & firewall</td>
                        <td>Security monitoring + toggleable response + evidence</td>
                    </tr>
                    <tr>
                        <td><strong>ManageWP</strong></td>
                        <td>Multi-site management</td>
                        <td>Site/portfolio/agency control + evidence tracking</td>
                    </tr>
                    <tr>
                        <td><strong>UpdraftPlus</strong></td>
                        <td>Backup/restore</td>
                        <td>Backup monitoring + verification + compliance packaging</td>
                    </tr>
                    <tr>
                        <td><strong>Spreadsheets</strong></td>
                        <td>Compliance tracking</td>
                        <td>Evidence-first dashboard + exportable packages</td>
                    </tr>
                    <tr>
                        <td><strong>Email chains</strong></td>
                        <td>Client communication</td>
                        <td>Structured reporting + evidence sharing + audit trail</td>
                    </tr>
                </tbody>
            </table>

            <div class="callout">
                <strong>Value Proposition:</strong>
                “Consolidate WordPress agency tool chaos into a single operating system. Monitor everything. Automate only what you explicitly enable.”
            </div>

            <div class="callout green">
                <strong>Proof (Dashboard-first Evidence):</strong>
                The primary output is the <strong>Evidence Ledger dashboard</strong> (what happened, why, under which consent/toggle/scope, with immutable receipts).
                Exports (PDF/CSV/JSON) are secondary packaging derived from the ledger.
            </div>
        </section>

        <!-- 2. Authority law -->
        <section id="authority-law">
            <h2>2. NON-NEGOTIABLE ARCHITECTURAL LAW</h2>

            <div class="callout amber">
                <strong>Authority Order (Locked):</strong>
                Business Model → API → Data Model → Execution → UI
            </div>

            <div class="grid-2">
                <div class="card">
                    <div class="pill blue">Business Model</div>
                    <h4>Defines</h4>
                    <ul>
                        <li>Tiers (Free / Starter / Pro / Agency)</li>
                        <li>Economics (pricing, overages)</li>
                        <li>Scope limits and available capabilities</li>
                    </ul>
                </div>
                <div class="card">
                    <div class="pill blue">API (FastAPI)</div>
                    <h4>Sole Authority For</h4>
                    <ul>
                        <li>Entitlements</li>
                        <li>Consent</li>
                        <li>Toggles</li>
                        <li>Run creation</li>
                        <li>Evidence registration</li>
                    </ul>
                </div>
                <div class="card">
                    <div class="pill blue">Data Model (PostgreSQL)</div>
                    <h4>Canonical & Immutable</h4>
                    <ul>
                        <li>Runs</li>
                        <li>Receipts</li>
                        <li>Artifacts index</li>
                        <li>Toggles</li>
                        <li>Consent</li>
                    </ul>
                </div>
                <div class="card">
                    <div class="pill blue">Execution (n8n / workers)</div>
                    <h4>Strictly Behind API</h4>
                    <ul>
                        <li>Non-authoritative</li>
                        <li>Only executes after API-approved run</li>
                        <li>Reports outcomes back to API</li>
                    </ul>
                </div>
                <div class="card">
                    <div class="pill blue">UI (WP Plugin + Web Dashboard)</div>
                    <h4>Thin Clients Only</h4>
                    <ul>
                        <li>Consent UI</li>
                        <li>Toggle control</li>
                        <li>Evidence display</li>
                    </ul>
                    <div class="subtle">WordPress (MariaDB) is UI-state only.</div>
                </div>
                <div class="card">
                    <div class="pill red">Core Rules</div>
                    <ul class="check-list">
                        <li>OpsGate does nothing unless explicitly allowed</li>
                        <li>OpsGate shows what it could do, never acts by default</li>
                        <li>Every behavior is a toggle</li>
                        <li>Every toggle has scope (site / portfolio / agency)</li>
                        <li>Every toggle leaves evidence</li>
                        <li>Toggles are not services</li>
                    </ul>
                </div>
            </div>

            <h3>Environment Constraints (Locked)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Area</th>
                        <th>Constraint</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Hosting / Infra</strong></td>
                        <td>Single VPS only • One owned domain • Caddy (not Nginx) • Docker + Docker Compose • No AWS/CloudFront/Route53/Multi-region</td>
                    </tr>
                    <tr>
                        <td><strong>Dev / Build</strong></td>
                        <td>VS Code Remote SSH • Git on VPS under /opt/opsgate • Docker rebuild/recreate • Solo developer executable</td>
                    </tr>
                    <tr>
                        <td><strong>Customer language</strong></td>
                        <td>Internal tools never exposed in customer-facing UI language</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- 3. Business model -->
        <section id="business-model">
            <h2>3. BUSINESS MODEL</h2>

            <h3>3.1 Offer Ladder by Value Level</h3>
            <div class="tiers-container">
                <div class="tier-card tier-free">
                    <div class="tier-header">
                        <div class="tier-name">FREE</div>
                        <div class="tier-price">$0</div>
                        <div class="tier-period">forever</div>
                        <div style="margin-top: 8px; font-size: 0.9rem;">3 sites max</div>
                    </div>
                    <div class="tier-body">
                        <div class="tier-feature highlight">Value: Discovery</div>
                        <div class="tier-feature">Tool audit wizard</div>
                        <div class="tier-feature">Consolidation calculator</div>
                        <div class="tier-feature">Monitoring consent (detect-only)</div>
                        <div class="tier-feature">Evidence ledger (limited history)</div>
                        <div class="tier-feature highlight">All automation toggles: OFF by default</div>
                        <div class="subtle" style="margin-top: 10px;"><strong>Target:</strong> WordPress agencies evaluating consolidation</div>
                    </div>
                </div>

                <div class="tier-card tier-starter">
                    <div class="tier-header">
                        <div class="tier-name">STARTER</div>
                        <div class="tier-price">$79</div>
                        <div class="tier-period">per month</div>
                        <div style="margin-top: 8px; font-size: 0.9rem;">15 sites included + $3/site overage</div>
                    </div>
                    <div class="tier-body">
                        <div class="tier-feature highlight">Value: Consolidation + Control</div>
                        <div class="tier-feature">Toggle enable/disable with confirmation</div>
                        <div class="tier-feature">Scope control (site/portfolio/agency)</div>
                        <div class="tier-feature">Evidence ledger (full)</div>
                        <div class="tier-feature">Notifications + evidence packages</div>
                        <div class="tier-feature highlight">3 core toggles: FTP / Backup / SSL</div>
                        <div class="subtle" style="margin-top: 10px;"><strong>Target:</strong> WordPress agencies managing 5–15 sites</div>
                    </div>
                </div>

                <div class="tier-card tier-pro">
                    <div class="tier-header">
                        <div class="tier-name">PRO</div>
                        <div class="tier-price">$199</div>
                        <div class="tier-period">per month</div>
                        <div style="margin-top: 8px; font-size: 0.9rem;">50 sites included</div>
                    </div>
                    <div class="tier-body">
                        <div class="tier-feature highlight">Value: Advanced Control</div>
                        <div class="tier-feature">Advanced scope definitions</div>
                        <div class="tier-feature">White-label reporting</div>
                        <div class="tier-feature">API access for custom workflows</div>
                        <div class="tier-feature"><em>Designed, not built in 6 months</em></div>
                        <div class="subtle" style="margin-top: 10px;"><strong>Target:</strong> Agencies 20–50 sites</div>
                    </div>
                </div>

                <div class="tier-card tier-agency">
                    <div class="tier-header">
                        <div class="tier-name">AGENCY</div>
                        <div class="tier-price">$499</div>
                        <div class="tier-period">per month</div>
                        <div style="margin-top: 8px; font-size: 0.9rem;">Unlimited sites (fair use)</div>
                    </div>
                    <div class="tier-body">
                        <div class="tier-feature highlight">Value: Enterprise Operations</div>
                        <div class="tier-feature">Custom compliance workflows</div>
                        <div class="tier-feature">Dedicated execution capacity</div>
                        <div class="tier-feature">SLA-backed guarantees</div>
                        <div class="tier-feature"><em>Designed, not built in 6 months</em></div>
                        <div class="subtle" style="margin-top: 10px;"><strong>Target:</strong> Agencies 50+ sites</div>
                    </div>
                </div>
            </div>

            <h3>Consolidation Math (Front & Center)</h3>
            <div class="code-block">Currently paying:
✓ Wordfence: $1,485/year
✓ ManageWP: $360/year
✓ BackupBuddy: $80/year
✓ Manual work: $2,400/year
───────────────
Total: $4,325/year

OpsGate Consolidation: $948/year
Save: $3,377/year (78% reduction)</div>

            <h3>3.2 Professional Services</h3>
            <table>
                <thead>
                    <tr>
                        <th>Service</th>
                        <th>Price</th>
                        <th>MICA (Assessment Action)</th>
                        <th>Deliverable</th>
                        <th>Target</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Consolidation Assessment</strong></td>
                        <td>$249 one-time</td>
                        <td>Map tool chaos → quantify operational gaps → identify consolidation opportunities</td>
                        <td>Technical audit + ROI report</td>
                        <td>Agencies considering Starter</td>
                    </tr>
                    <tr>
                        <td><strong>Toggle Implementation</strong></td>
                        <td>$499 one-time</td>
                        <td>Review evidence potential + define scope controls + enable toggles safely</td>
                        <td>Production-ready toggle configuration</td>
                        <td>New Starter customers</td>
                    </tr>
                    <tr>
                        <td><strong>Custom Toggle Development</strong></td>
                        <td>$2,500–$7,500</td>
                        <td>Define agency-specific needs + evidence requirements + controlled enablement plan</td>
                        <td>Custom toggleable workflows</td>
                        <td>Pro/Agency customers</td>
                    </tr>
                </tbody>
            </table>

            <div class="callout amber">
                <strong>MICA = My Ideal Client Assessment</strong><br>
                MICA is assessment / consolidation-driven action. MICA is not automation.
                Examples: running consolidation assessment, viewing operational gaps, reviewing evidence potential, deciding what should be automated later.
            </div>
        </section>

        <!-- 4. Journeys -->
        <section id="journeys">
            <h2>4. CUSTOMER JOURNEYS & WIREFRAMES</h2>

            <h3>4.1 Journey: Agency → Consolidation Proof (Free Tier)</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>How they hear about OpsGate</h4>
                    <ul>
                        <li>WordPress.org search (“agency operating system”)</li>
                        <li>Content (“true cost of WordPress tool chaos”)</li>
                        <li>Communities (FB groups, Reddit, LinkedIn)</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>First point of contact</h4>
                    <ul>
                        <li>WordPress.org plugin page</li>
                        <li>Message: “Consolidate your tool stack. Monitor everything. No automation by default.”</li>
                    </ul>
                </div>
            </div>

            <h4>Wireframes (Free Tier)</h4>
            <table>
                <thead>
                    <tr>
                        <th>Screen</th>
                        <th>What the user sees</th>
                        <th>Actions</th>
                        <th>Consent / Toggles / Evidence</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>P1: Tool Audit</strong></td>
                        <td>Pick current tools (security/backup/management) + calculate savings</td>
                        <td>Select tools, view consolidation estimate</td>
                        <td>Consent: none • Toggles: not available • Evidence: assessment snapshot</td>
                    </tr>
                    <tr>
                        <td><strong>P2: Monitoring Consent</strong></td>
                        <td>Choose monitoring signals (detect-only)</td>
                        <td>Enable monitoring consent per signal type</td>
                        <td>Consent: explicit • Toggles: OFF/locked • Evidence: consent receipt</td>
                    </tr>
                    <tr>
                        <td><strong>P3: Evidence Ledger</strong></td>
                        <td>Events show in dashboard ledger</td>
                        <td>View evidence, generate report</td>
                        <td>Evidence: monitoring entries • Export: optional report (secondary)</td>
                    </tr>
                </tbody>
            </table>

            <div class="callout green">
                <strong>Activation Moment (MICA):</strong>
                Agency generates and shares a consolidation report that includes tool costs, savings, and monitoring proof from the evidence ledger.
            </div>

            <h3>4.2 Journey: Agency → Controlled Automation (Starter Tier)</h3>

            <h4>Wireframes (Starter Tier)</h4>
            <table>
                <thead>
                    <tr>
                        <th>Screen</th>
                        <th>What the user sees</th>
                        <th>Actions</th>
                        <th>Consent / Toggles / Evidence</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>W1: Toggle Management Center</strong></td>
                        <td>Toggle list grouped by category + scope selector</td>
                        <td>Enable/disable toggles, set scope</td>
                        <td>Consent: required • Toggle: explicit ON/OFF • Evidence: toggle audit trail</td>
                    </tr>
                    <tr>
                        <td><strong>W2: Enablement Confirmation</strong></td>
                        <td>Impact summary + rules + confirmation</td>
                        <td>Confirm enablement and parameters</td>
                        <td>Evidence: enablement receipt generated</td>
                    </tr>
                    <tr>
                        <td><strong>W3: Evidence Ledger</strong></td>
                        <td>Run history + receipts + artifacts index</td>
                        <td>Filter evidence, generate package</td>
                        <td>Dashboard-first truth surface • Exports are secondary packaging</td>
                    </tr>
                </tbody>
            </table>

            <div class="toggle-example">
                <h4 style="margin-top:0;">Toggle UI Example (Scope + Confirmation)</h4>

                <div class="toggle-item">
                    <div>
                        <div style="font-weight:900;">FTP Upload Quarantine</div>
                        <div class="subtle">Scope: Portfolio (15 sites) • Requires monitoring consent</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="toggle-item">
                    <div>
                        <div style="font-weight:900;">Backup Verification</div>
                        <div class="subtle">Scope: Portfolio • Evidence receipt on each verification</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="toggle-item" style="margin-bottom:0;">
                    <div>
                        <div style="font-weight:900;">SSL Monitoring & Renewal</div>
                        <div class="subtle">Scope: Agency • Renewal requires explicit enablement</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <div class="callout amber">
                <strong>Starter MICA (Locked):</strong>
                Review operational gaps and evidence potential, then decide what should be automated later (before enabling).
            </div>
        </section>

        <!-- 5. Branding + funnels -->
        <section id="branding">
            <h2>5. HIGH-LEVEL DESIGN & BRANDING SYSTEM</h2>

            <h3>5.1 Brand posture</h3>
            <div class="grid-3">
                <div class="card">
                    <div class="pill green">Control-centric</div>
                    <p>Professional, authoritative, non-presumptive. Control panel, not an assistant.</p>
                </div>
                <div class="card">
                    <div class="pill green">Permission-first</div>
                    <p>Nothing runs without explicit consent and toggle enablement.</p>
                </div>
                <div class="card">
                    <div class="pill green">Evidence-first</div>
                    <p>Every behavior produces run → receipt → artifact and is visible in the dashboard ledger.</p>
                </div>
            </div>

            <h3>5.2 Lead lifecycle automation (Funnels)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Funnel</th>
                        <th>Trigger</th>
                        <th>Sequence</th>
                        <th>Goal</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Funnel 1: WordPress.org → Free</strong></td>
                        <td>Plugin installation</td>
                        <td>Day 0 welcome + tool audit → Day 2 case study → Day 7 upgrade prompt → Day 14 report reminder</td>
                        <td>Free → Starter conversion (5–10%)</td>
                    </tr>
                    <tr>
                        <td><strong>Funnel 2: Website → Assessment</strong></td>
                        <td>Assessment inquiry</td>
                        <td>Immediate questionnaire → Day 1 consolidation report → Day 3 proposal → Day 7 follow-up</td>
                        <td>Assessment → Starter + Implementation (30–40%)</td>
                    </tr>
                    <tr>
                        <td><strong>Funnel 3: Starter → Retention</strong></td>
                        <td>First toggle enablement</td>
                        <td>Immediate receipt → Week 1 report → Month 1 ROI report → Month 3 Pro intro</td>
                        <td>Retention > 90%, upgrades 10–15%</td>
                    </tr>
                </tbody>
            </table>

            <h3>5.3 Email cycles</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>Onboarding (All tiers)</h4>
                    <ul>
                        <li>Welcome: value + next steps</li>
                        <li>Day 3: platform orientation</li>
                        <li>Day 7: success story + advanced tease</li>
                        <li>Day 14: check-in + support offer</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Value reinforcement (Starter+)</h4>
                    <ul>
                        <li>Weekly: security operations summary</li>
                        <li>Monthly: consolidation savings report</li>
                        <li>Quarterly: automation effectiveness review</li>
                        <li>Annual: total ROI calculation</li>
                    </ul>
                </div>
            </div>

            <div class="callout">
                <strong>Dashboard-first proof rule:</strong>
                Every funnel and email cycle points back to the evidence ledger as the primary value surface. Exports are packaging.
            </div>
        </section>

        <!-- 6. Prioritization -->
        <section id="prioritization">
            <h2>6. PRIORITIZATION</h2>

            <h3>6.1 Priority framework</h3>
            <ul>
                <li><strong>Rule 1:</strong> Enable Free → Starter funnel first</li>
                <li><strong>Rule 2:</strong> Prove consolidation value before automation</li>
                <li><strong>Rule 3:</strong> Build control mechanisms before automation capabilities</li>
                <li><strong>Rule 4:</strong> Implement evidence system parallel to execution</li>
            </ul>

            <h3>6.2 Priority order (Why → What)</h3>
            <div class="timeline">
                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">Priority 1: Foundation</div>
                        <div class="phase-duration">Weeks 1–4</div>
                    </div>
                    <p><strong>Why:</strong> Nothing works without auth, consent, evidence.</p>
                    <ul>
                        <li>PostgreSQL schema + consent/toggles primitives</li>
                        <li>FastAPI authority layer + entitlements</li>
                        <li>WP plugin: monitoring consent UI + connection status</li>
                        <li>Evidence chain: runs → receipts → artifacts index</li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">Priority 2: Consolidation Proof</div>
                        <div class="phase-duration">Weeks 5–8</div>
                    </div>
                    <p><strong>Why:</strong> ROI proof drives conversion.</p>
                    <ul>
                        <li>Tool audit wizard + tool pricing database</li>
                        <li>Savings calculation + consolidation report generation</li>
                        <li>Evidence package generation derived from ledger</li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">Priority 3: First Toggle</div>
                        <div class="phase-duration">Weeks 9–12</div>
                    </div>
                    <p><strong>Why:</strong> One complete automation validates the control model.</p>
                    <ul>
                        <li>FTP monitoring consent system</li>
                        <li>FTP quarantine toggle (scope controls + receipts)</li>
                        <li>Quarantine artifact indexing</li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">Priority 4: Essential Automation</div>
                        <div class="phase-duration">Weeks 13–20</div>
                    </div>
                    <p><strong>Why:</strong> MVP needs 3 core toggles + reporting.</p>
                    <ul>
                        <li>Backup verification toggle</li>
                        <li>SSL monitoring & renewal toggle</li>
                        <li>Notifications + evidence packages</li>
                    </ul>
                </div>

                <div class="phase" style="margin-bottom:0;">
                    <div class="phase-header">
                        <div class="phase-title">Priority 5: Polish & Launch</div>
                        <div class="phase-duration">Weeks 21–24</div>
                    </div>
                    <p><strong>Why:</strong> Professional UX drives conversions and retention.</p>
                    <ul>
                        <li>Web dashboard (toggle management + evidence viewer)</li>
                        <li>Export packaging (PDF/JSON/CSV) derived from ledger</li>
                        <li>Beta with 3 agencies + launch materials</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 7. Functional specification -->
        <section id="functional-spec">
            <h2>7. FUNCTIONAL SPECIFICATION</h2>

            <h3>7.1 What users CAN do</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>Free tier</h4>
                    <ul class="check-list">
                        <li>Install WordPress plugin</li>
                        <li>Audit current tool stack</li>
                        <li>Calculate consolidation savings</li>
                        <li>Grant monitoring consent per signal type</li>
                        <li>View monitoring evidence for 3 sites</li>
                        <li>Generate limited evidence reports</li>
                        <li>Share consolidation reports</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Starter tier</h4>
                    <ul class="check-list">
                        <li>Everything in Free</li>
                        <li>Connect up to 15 sites</li>
                        <li>Enable/disable automation toggles</li>
                        <li>Set toggle scope (site/portfolio/agency)</li>
                        <li>Configure toggle parameters</li>
                        <li>View complete evidence ledger</li>
                        <li>Generate unlimited evidence packages</li>
                        <li>Export evidence (PDF/JSON/CSV)</li>
                        <li>Receive automated notifications</li>
                    </ul>
                </div>
            </div>

            <h3>7.2 What users CANNOT do</h3>
            <div class="grid-2">
                <div class="card">
                    <h4>All users</h4>
                    <ul class="x-list">
                        <li>Automate without explicit toggle enablement</li>
                        <li>Modify or delete evidence records</li>
                        <li>Bypass scope controls</li>
                        <li>Access other agencies’ data</li>
                        <li>Use AI for decision-making or execution</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>System constraints</h4>
                    <ul class="x-list">
                        <li>Execute any action without API authority</li>
                        <li>Store canonical truth outside PostgreSQL</li>
                        <li>Hide evidence of actions taken</li>
                        <li>Operate without explicit consent at every level</li>
                    </ul>
                </div>
            </div>

            <div class="callout green">
                <strong>Dashboard-first UX rule:</strong>
                Evidence is born in the ledger (runs/receipts/artifacts). Exports are secondary packaging.
            </div>
        </section>

        <!-- 8. Test cases -->
        <section id="test-cases">
            <h2>8. TEST CASES</h2>

            <h3>8.1 Core flow (must pass)</h3>
            <div class="code-block">Given: User installs OpsGate plugin
When: User grants FTP monitoring consent
And: FTP upload occurs
Then: System detects upload and stores monitoring evidence
And: System does NOT quarantine file (toggle default: OFF)
And: User can view detection in evidence ledger

When: User enables FTP quarantine toggle for portfolio scope
And: Another FTP upload occurs
Then: System quarantines file
And: Generates toggle execution receipt
And: Stores quarantine artifact
And: Sends notification
And: All evidence linked in ledger</div>

            <h3>8.2 Error case (must handle)</h3>
            <div class="code-block">Given: Toggle enabled but monitoring consent revoked
When: Trigger event occurs
Then: System creates blocked run
And: Logs "toggle enabled but consent missing"
And: Notifies user of configuration conflict
And: Does NOT execute automation</div>

            <h3>8.3 Scope enforcement (must enforce)</h3>
            <div class="code-block">Given: Toggle enabled at agency scope
When: Site added to agency portfolio
Then: Toggle automatically applies to new site
And: Evidence shows scope inheritance
And: User can override at site level if needed</div>
        </section>

        <!-- 9. Technical wireframes -->
        <section id="tech-wireframes">
            <h2>9. TECHNICAL WIREFRAMES</h2>

            <h3>9.1 Code architecture</h3>
            <div class="code-block">/opt/opsgate/
├── docker-compose.yml          # VPS deployment
├── caddy/
│   └── Caddyfile              # Reverse proxy config
├── postgres/
│   ├── init.sql               # Schema + indexes
│   └── backup.sh              # Daily backups
├── fastapi/
│   ├── app/
│   │   ├── main.py            # FastAPI app
│   │   ├── auth.py            # JWT authentication
│   │   ├── database.py        # PostgreSQL connection
│   │   ├── api/
│   │   │   ├── accounts.py    # Account management
│   │   │   ├── consent.py     # Monitoring consent
│   │   │   ├── toggles.py     # Toggle management
│   │   │   ├── runs.py        # Run creation/query
│   │   │   ├── receipts.py    # Evidence storage
│   │   │   └── artifacts.py   # Artifact indexing
│   │   └── middleware/
│   │       ├── entitlements.py
│   │       └── logging.py
├── n8n/
│   ├── workflows/
│   │   ├── monitoring/
│   │   └── automation/
├── wordpress-plugin/
│   ├── opsgate.php
│   ├── includes/
│   └── assets/
└── web-dashboard/
    ├── index.html
    ├── css/
    ├── js/
    └── api/</div>

            <h3>9.2 Database architecture</h3>
            <div class="code-block">-- Core authority tables
accounts (id, email, company, plan, limits, billing_status)
sites (id, account_id, domain, token, connected_at)

-- Dual-consent primitives
monitoring_consents (id, site_id, signal_type, enabled, granted_at)
automation_toggles (id, name, category, description, min_tier)
toggle_assignments (id, account_id, toggle_id, site_id, scope, enabled)

-- Universal evidence chain
runs (id, site_id, workflow_type, workflow_name, status, toggle_assignment_id)
receipts (id, run_id, input_snapshot, output_snapshot, evidence_hash)
artifact_index (id, run_id, artifact_type, artifact_path, metadata)

-- Business tables
consolidation_evidence (id, account_id, period, tool_costs, savings)
client_packages (id, account_id, package_type, generated_at, shared)</div>

            <h3>9.3 Infrastructure architecture (VPS-only)</h3>
            <div class="code-block">VPS (4GB RAM, 2 vCPU, 80GB SSD)
├── Caddy (80/443)
│   ├── FastAPI (8000)
│   ├── Web Dashboard (3000)
│   └── (Internal) n8n UI (5678) - INTERNAL ONLY
├── PostgreSQL (5432)
├── Docker + Docker Compose
└── Backup: daily local, weekly off-VPS</div>

            <div class="callout red">
                <strong>Constraint reminder:</strong>
                Single VPS only. Caddy only. No AWS/CloudFront/Route53. Git under /opt/opsgate is the source of truth.
            </div>
        </section>

        <!-- 10. Scrum plan -->
        <section id="scrum-plan">
            <h2>10. 6-MONTH SCRUM PLAN (EXECUTABLE)</h2>

            <h3>10.1 Phases → Sprints → Epics</h3>
            <div class="timeline">
                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">PHASE 1: FOUNDATION</div>
                        <div class="phase-duration">Month 1</div>
                    </div>
                    <div class="subtle">Goal: VPS + DB + Auth + consent/toggle primitives + evidence chain skeleton.</div>
                </div>
                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">PHASE 2: WORDPRESS INTEGRATION</div>
                        <div class="phase-duration">Month 2</div>
                    </div>
                    <div class="subtle">Goal: Plugin foundation + monitoring consent UI + tool audit calculator.</div>
                </div>
                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">PHASE 3: FIRST AUTOMATION</div>
                        <div class="phase-duration">Month 3</div>
                    </div>
                    <div class="subtle">Goal: runs/receipts/artifacts end-to-end + FTP quarantine toggle.</div>
                </div>
                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">PHASE 4: ESSENTIAL FEATURES</div>
                        <div class="phase-duration">Month 4</div>
                    </div>
                    <div class="subtle">Goal: Backup verification + SSL monitoring/renewal + evidence ledger UX.</div>
                </div>
                <div class="phase">
                    <div class="phase-header">
                        <div class="phase-title">PHASE 5: POLISH</div>
                        <div class="phase-duration">Month 5</div>
                    </div>
                    <div class="subtle">Goal: Notifications + export packaging + reporting.</div>
                </div>
                <div class="phase" style="margin-bottom:0;">
                    <div class="phase-header">
                        <div class="phase-title">PHASE 6: LAUNCH PREP</div>
                        <div class="phase-duration">Month 6</div>
                    </div>
                    <div class="subtle">Goal: Beta agencies + documentation + launch materials.</div>
                </div>
            </div>

            <h3>10.2 Sprint breakdown (Epics → User Stories → Tasks)</h3>

            <h4>Sprint 1: Infrastructure & Database</h4>
            <table>
                <thead>
                    <tr>
                        <th>Epic</th>
                        <th>User Stories</th>
                        <th>Tasks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Core system foundation</td>
                        <td>
                            <ul>
                                <li>As a developer, I have a working VPS with Docker and Caddy</li>
                                <li>As a system, I can store accounts and sites in PostgreSQL</li>
                                <li>As an API, I can authenticate requests with JWT</li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li>Provision VPS (4GB, Ubuntu 22.04)</li>
                                <li>Install Docker + Docker Compose</li>
                                <li>Configure Caddy with domain + HTTPS</li>
                                <li>Create PostgreSQL container</li>
                                <li>Initialize schema v1</li>
                                <li>Build FastAPI container scaffold</li>
                                <li>Implement JWT auth endpoints</li>
                                <li>Set up DB backups (daily)</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Sprint 2: Dual-Consent Primitives</h4>
            <table>
                <thead>
                    <tr>
                        <th>Epic</th>
                        <th>User Stories</th>
                        <th>Tasks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Consent + toggle foundation</td>
                        <td>
                            <ul>
                                <li>As a user, I can grant monitoring consent per signal type</li>
                                <li>As a user, I can view available toggles</li>
                                <li>As a system, consent/toggle changes are logged immutably</li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li>Create monitoring_consents table + endpoints</li>
                                <li>Create automation_toggles catalog</li>
                                <li>Create toggle_assignments table + CRUD</li>
                                <li>Build scope resolution (site→portfolio→agency)</li>
                                <li>Entitlement middleware (limits object enforced by API)</li>
                                <li>Audit logging for changes</li>
                                <li>OpenAPI docs</li>
                                <li>Rate limiting per account</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Sprint 3: Plugin Foundation</h4>
            <table>
                <thead>
                    <tr>
                        <th>Epic</th>
                        <th>User Stories</th>
                        <th>Tasks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>WP plugin + consent UI</td>
                        <td>
                            <ul>
                                <li>As a WP admin, I can install OpsGate from .zip</li>
                                <li>As a user, I can grant monitoring consent for my site</li>
                                <li>As a plugin, I can send monitoring data to API</li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li>Plugin skeleton</li>
                                <li>Consent UI per signal type</li>
                                <li>Secure token exchange (site → API)</li>
                                <li>Connection status page</li>
                                <li>API client with retries</li>
                                <li>Uninstall cleanup</li>
                                <li>Multi-WP version tests</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Sprint 4: Consolidation Calculator</h4>
            <table>
                <thead>
                    <tr>
                        <th>Epic</th>
                        <th>User Stories</th>
                        <th>Tasks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Value demonstration</td>
                        <td>
                            <ul>
                                <li>As a user, I can audit my tool stack</li>
                                <li>As a user, I can see consolidation savings</li>
                                <li>As a user, I can generate a consolidation report</li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li>Tool audit wizard (plugin)</li>
                                <li>Tool pricing database</li>
                                <li>Savings calculation</li>
                                <li>Report generation (dashboard-first, export secondary)</li>
                                <li>Report history limits (Free)</li>
                                <li>Upgrade prompts based on savings</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Sprint 5: Evidence Chain & Execution Integration</h4>
            <table>
                <thead>
                    <tr>
                        <th>Epic</th>
                        <th>User Stories</th>
                        <th>Tasks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Universal evidence system</td>
                        <td>
                            <ul>
                                <li>As a system, all executions create a run record</li>
                                <li>As a system, run outcomes generate immutable receipts</li>
                                <li>As a system, artifacts are indexed and retrievable</li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li>Create runs/receipts/artifact_index tables</li>
                                <li>Run creation endpoints</li>
                                <li>Receipt hashing + snapshots</li>
                                <li>Artifact storage (files) + DB index (canonical)</li>
                                <li>Execution auth back to API</li>
                                <li>Error handling + retry strategy</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Sprint 6: FTP Quarantine Toggle</h4>
            <table>
                <thead>
                    <tr>
                        <th>Epic</th>
                        <th>User Stories</th>
                        <th>Tasks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>First complete automation</td>
                        <td>
                            <ul>
                                <li>As a user, I can enable FTP quarantine toggle</li>
                                <li>As a system, uploads are quarantined when toggle ON</li>
                                <li>As a user, I receive evidence of actions</li>
                            </ul>
                        </td>
                        <td>
                            <ul>
                                <li>Enhance FTP monitoring signal</li>
                                <li>Toggle check before execution</li>
                                <li>Quarantine storage + artifact indexing</li>
                                <li>Notification on quarantine</li>
                                <li>Evidence linking (run→receipt→artifact)</li>
                                <li>End-to-end tests</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Sprint 7: Backup Verification Toggle</h4>
            <h4>Sprint 8: SSL Monitoring & Renewal + Basic Web Dashboard</h4>
            <h4>Sprint 9: Notification System</h4>
            <h4>Sprint 10: Export & Reporting</h4>
            <h4>Sprint 11: Beta Testing</h4>
            <h4>Sprint 12: Launch Preparation</h4>

            <div class="callout amber">
                The remaining sprints (7–12) follow the same structure as above and are already defined in the weekly schedule section below.
                The deliverable standard remains: dashboard-first evidence, exports secondary packaging, authority-first model enforced.
            </div>

            <h3>10.3 Weekly sprint schedule</h3>
            <table>
                <thead>
                    <tr>
                        <th>Month</th>
                        <th>Week</th>
                        <th>Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Month 1</td><td>Week 1</td><td>VPS setup, Docker, Caddy, PostgreSQL</td></tr>
                    <tr><td>Month 1</td><td>Week 2</td><td>FastAPI auth, JWT, basic endpoints</td></tr>
                    <tr><td>Month 1</td><td>Week 3</td><td>Consent/toggles API, scope logic</td></tr>
                    <tr><td>Month 1</td><td>Week 4</td><td>OpenAPI docs, rate limiting, backups</td></tr>

                    <tr><td>Month 2</td><td>Week 5</td><td>WP plugin foundation, consent UI</td></tr>
                    <tr><td>Month 2</td><td>Week 6</td><td>Monitoring collectors, API client</td></tr>
                    <tr><td>Month 2</td><td>Week 7</td><td>Tool audit wizard, pricing DB</td></tr>
                    <tr><td>Month 2</td><td>Week 8</td><td>Savings calculator, report generation</td></tr>

                    <tr><td>Month 3</td><td>Week 9</td><td>Evidence chain (runs/receipts/artifacts)</td></tr>
                    <tr><td>Month 3</td><td>Week 10</td><td>Execution integration, toggle checking</td></tr>
                    <tr><td>Month 3</td><td>Week 11</td><td>FTP monitoring enhancement</td></tr>
                    <tr><td>Month 3</td><td>Week 12</td><td>FTP quarantine workflow + testing</td></tr>

                    <tr><td>Month 4</td><td>Week 13</td><td>Backup monitoring + verification</td></tr>
                    <tr><td>Month 4</td><td>Week 14</td><td>Backup workflow + alerts + evidence</td></tr>
                    <tr><td>Month 4</td><td>Week 15</td><td>SSL monitoring + renewal logic</td></tr>
                    <tr><td>Month 4</td><td>Week 16</td><td>Web dashboard foundation + evidence viewer</td></tr>

                    <tr><td>Month 5</td><td>Week 17</td><td>Notification system + templates</td></tr>
                    <tr><td>Month 5</td><td>Week 18</td><td>Notification preferences + evidence</td></tr>
                    <tr><td>Month 5</td><td>Week 19</td><td>Export packaging (PDF/CSV/JSON)</td></tr>
                    <tr><td>Month 5</td><td>Week 20</td><td>Business reporting + scheduling logic</td></tr>

                    <tr><td>Month 6</td><td>Week 21</td><td>Beta recruitment + onboarding</td></tr>
                    <tr><td>Month 6</td><td>Week 22</td><td>Feedback collection + bug fixes</td></tr>
                    <tr><td>Month 6</td><td>Week 23</td><td>Documentation + support setup</td></tr>
                    <tr><td>Month 6</td><td>Week 24</td><td>Launch materials + final testing</td></tr>
                </tbody>
            </table>
        </section>

        <!-- 11. Metrics -->
        <section id="metrics">
            <h2>11. SUCCESS CRITERIA & METRICS</h2>

            <h3>11.1 Technical success (Month 6)</h3>
            <div class="grid-3">
                <div class="card">
                    <div class="pill green">Dual-consent</div>
                    <p>Monitoring consent and automation toggles working end-to-end.</p>
                </div>
                <div class="card">
                    <div class="pill green">3 core toggles</div>
                    <p>FTP quarantine, Backup verification, SSL monitoring/renewal operational.</p>
                </div>
                <div class="card">
                    <div class="pill green">Evidence chain</div>
                    <p>Every run produces receipts + indexed artifacts visible in ledger.</p>
                </div>
                <div class="card">
                    <div class="pill blue">Reliability</div>
                    <p>&lt; 2% error rate (production), 99.9% uptime target.</p>
                </div>
                <div class="card">
                    <div class="pill blue">Performance</div>
                    <p>API response time p95 &lt; 200ms.</p>
                </div>
                <div class="card">
                    <div class="pill amber">Recoverability</div>
                    <p>Backup/restore procedures tested.</p>
                </div>
            </div>

            <h3>11.2 Business success (Month 6)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Target</th>
                        <th>Definition</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Beta agencies</strong></td>
                        <td>3</td>
                        <td>Using core features successfully</td>
                    </tr>
                    <tr>
                        <td><strong>Paying Starter</strong></td>
                        <td>10</td>
                        <td>$790 MRR</td>
                    </tr>
                    <tr>
                        <td><strong>Toggle adoption</strong></td>
                        <td>&gt; 60%</td>
                        <td>Active users enabling at least one toggle</td>
                    </tr>
                    <tr>
                        <td><strong>Report sharing</strong></td>
                        <td>&gt; 70%</td>
                        <td>Sharing consolidation/evidence packages with clients</td>
                    </tr>
                    <tr>
                        <td><strong>Free → Starter conversion</strong></td>
                        <td>5–10%</td>
                        <td>Conversion driven by consolidation proof</td>
                    </tr>
                </tbody>
            </table>

            <div class="callout">
                <strong>Evidence-first UX requirement:</strong>
                All metrics must be measurable from the evidence ledger and report generation history.
            </div>
        </section>

        <!-- 12. Execution -->
        <section id="execution">
            <h2>12. EXECUTION COMMAND</h2>

            <h3>Starting point (Day 1)</h3>
            <div class="code-block">ssh root@vps-ip
cd /opt
git init opsgate
cd opsgate
# Begin with docker-compose.yml</div>

            <h3>Weekly rhythm</h3>
            <table>
                <thead>
                    <tr>
                        <th>Day</th>
                        <th>Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><strong>Monday</strong></td><td>Sprint planning, task assignment</td></tr>
                    <tr><td><strong>Tue–Thu</strong></td><td>Development + testing</td></tr>
                    <tr><td><strong>Friday</strong></td><td>Demo + review + documentation</td></tr>
                    <tr><td><strong>Weekend</strong></td><td>Deployment + monitoring check</td></tr>
                </tbody>
            </table>

            <h3>Non-negotiable rules</h3>
            <ol>
                <li><strong>Authority First:</strong> Business Model → API → Data Model → Execution → UI</li>
                <li><strong>Dual Consent:</strong> Monitoring ≠ Automation, both explicit opt-in</li>
                <li><strong>Evidence Chain:</strong> run → receipt → artifact (ledger-first)</li>
                <li><strong>Scope Lock:</strong> MVP = 3 core toggles + evidence UX</li>
                <li><strong>Solo Reality:</strong> build only what one developer can maintain</li>
            </ol>

            <div class="callout green">
                <strong>Launch criteria (Month 6, Week 24):</strong>
                3 beta agencies successful • &lt; 5 critical bugs • performance targets met • documentation complete.
            </div>
        </section>

    </main>

    <footer class="document-footer container">
        <div style="margin-bottom: 14px;">
            <div style="font-weight: 900; margin-bottom: 6px;">
                Document Status: <span style="color: var(--accent-green);">EXECUTION-READY</span>
            </div>
            <div style="font-size: 0.9rem; margin-bottom: 5px;">
                Version: 6.1 Final • Audience: WordPress Agencies • Timeframe: 6 Months
            </div>
            <div style="font-size: 0.9rem;">
                Stack: Single VPS • Docker • Caddy • PostgreSQL • FastAPI • n8n • WP Plugin • Web Dashboard
            </div>
        </div>
        <div style="font-size: 0.85rem;">
            Dashboard-first evidence is the primary proof surface. Exports are secondary packaging derived from the ledger.
        </div>
    </footer>

    <script>
        // Minimal: smooth scroll for nav
        document.querySelectorAll('.top-nav a').forEach(a => {
            a.addEventListener('click', (e) => {
                const href = a.getAttribute('href');
                if (href && href.startsWith('#')) {
                    e.preventDefault();
                    const el = document.querySelector(href);
                    if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Toggle demo: only logs, no "product behavior"
        document.querySelectorAll('.toggle-switch input').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const toggleItem = this.closest('.toggle-item');
                if (!toggleItem) return;
                const name = toggleItem.querySelector('div > div')?.textContent?.trim() || 'Toggle';
                console.log(`${name}: ${this.checked ? 'ON' : 'OFF'}`);
            });
        });
    </script>

</body>
</html>
